<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title></title>
</head>

<body>
    <style>
    .slide,
    .slider-list,
    .img-slide {
        display: table;
        margin: 0 auto;
        position: relative;
    }
    
    .img-slide img {
        width: 300px;
        height: 300px
    }
    
    .slider-list img {
        width: 200px;
        height: 200px;
        margin: 5px;
    }
    
    .-active {
        opacity: .5
    }
    
    .outer {
        overflow: hidden;
    }
    </style>
    <div class="slide">
        <div class="img-slide">
        </div>
        <div class="outer">
            <div class="slider-list">
                <img src="http://www.placehold.it/300x250" alt="">
                <img src="http://www.placehold.it/400x250" alt="">
                <img src="http://www.placehold.it/500x250" alt="">
                <img src="http://www.placehold.it/600x250" alt="">
                <img src="http://www.placehold.it/700x250" alt="">
                <img src="http://www.placehold.it/800x250" alt="">
                <img src="http://www.placehold.it/900x250" alt="">
            </div>
        </div>
        <button class="next">NEXT</button>
    </div>
    <script>
			function Fotorama (containerImg, sliderList, len) {
				if (!sliderList) {return};
				this.containerImg = containerImg; // container img .img-slide
				this.sliderList = sliderList; // sliderList - Вешаем обработчики
				this.len = len;
				this.outer = document.querySelector('.outer');
				this.nextBtn = document.querySelector('.next');

				this.count = this.sliderList.children.length;
				this.activeClass = '-active';
				this.viewportClass = '-viewport';

				this.firstElemInit(this.sliderList, this.containerImg, this.activeClass);
				this.cssGenerator(this.sliderList, 'width', (width + 10) * this.count);
				this.cssGenerator(this.outer, 'width', (width + 10) * this.len);
				this.addViewport(this.sliderList, this.len, this.viewportClass);
				this.addListener(this.sliderList, this.nextBtn);

				console.log(this);

				}

			Fotorama.prototype.cssGenerator = function (elem, props, value) {
				elem.style.cssText += props + ':' + value + 'px';
			}

			Fotorama.prototype.addViewport = function () {
				for (var i = 0; i < this.count; i++) {
					if (i < this.len) {
						this.count[i].classList.add(this.viewportClass);
					}
				}
			}

			Fotorama.prototype.addListener = function () {
				this.sliderList.addEventListener('click', this.handler);
				this.nextBtn.addEventListener('click', this.handlerToClick);
			}

			Fotorama.prototype.firstElemInit = function () {
				var first = this.sliderList.firstElementChild,
						src = first.src ? first.src : "";

				this.containerImg.insertAdjacentHTML('afterBegin', '<img src="' + src + '" />');
				first.classList.add(this.activeClass);
			}

			Fotorama.prototype.handlerToclick = function () {
				var active = document.querySelector('.' + this.activeClass),
						nextSibling = active.nextElementSibling,
						firstChildinList = this.sliderList.firstElementChild;

				if (nextSibling && nextSibling.classList.contains(this.viewportClass)) {
					handler(null, nextSibling);
				} else {
					nextSibling.classList.add(this.viewportClass);
					this.cssGenerator(this.sliderList, 'left', (-(width + 10)));
					firstChildinList.classList.remove(this.viewportClass);
					this.sliderList.appendChild(firstChildinList);
					this.handler(null, active.nextElementSibling);
					this.cssGenerator(this.sliderList, 'left', (0));
				}
			}

			Fotorama.prototype.handler = function (e, elem) {
				var target = e && e.target ? e.target : elem,
						src = target.src ? target.src : '';

				this.removeClass();
				this.containerImg.firstElementChild.src = src;
				target.classList.add(this.activeClass);
			}

			Fotorama.prototype.removeClass = function () {
				var active = document.querySelector('.' + this.activeClass);
				active.classList.remove(this.activeClass);
			}

			new Fotorama(document.querySelector('.img-slide'), document.querySelector('.slider-List'), 4);

			    // (function() {
    //     var sliderList = document.querySelector('.slider-list'),
    //         containerImg = document.querySelector('.img-slide'),
    //         sliderOuter = document.querySelector('.outer'),
    //         next = document.querySelector('.next'),
    //         count = sliderList.children.length,
    //         width = parseInt(window.getComputedStyle(sliderList.firstElementChild).getPropertyValue('width')),
    //         len = 4,
    //         activeClass = '-active',
    //         viewportClass = '-viewport';

    //     firstElementInit(sliderList, containerImg, activeClass);
    //     cssGenerator('width', (width + 10) * count, sliderList);
    //     cssGenerator('width', (width + 10) * len, sliderOuter);
    //     addViewport(sliderList, len, viewportClass);
    //     addListener(sliderList, next);


    //     function cssGenerator(props, val, el) {
    //         el.style.cssText += props + ':' + (val) + 'px';
    //     }

    //     function addViewport() {
    //         for (var i = 0; i < sliderList.children.length; i++) {
    //             if (i < len) {
    //                 sliderList.children[i].classList.add(viewportClass);
    //             }
    //         }
    //     }

    //     function addListener() {
    //         sliderList.addEventListener('click', handler);
    //         next.addEventListener('click', handlerToClick);
    //     }

    //     function firstElementInit() {
    //         var first = sliderList.firstElementChild,
    //             src = first.src ? first.src : "";
    //         containerImg.insertAdjacentHTML('afterBegin', '<img src="' + src + '" />');
    //         first.classList.add(activeClass);
    //     }

    //     function handlerToClick() {
    //         var active = document.querySelector('.' + activeClass);
    //         if (active.nextElementSibling && active.nextElementSibling.classList.contains(viewportClass)) {
    //             handler(null, active.nextElementSibling);
    //         } else {
    //             active.nextElementSibling.classList.add(viewportClass);
    //             cssGenerator('left', (-(width + 10)), sliderList);
    //             sliderList.firstElementChild.classList.remove(viewportClass);
    //             sliderList.appendChild(sliderList.firstElementChild);
    //             handler(null, active.nextElementSibling);
    //             cssGenerator('left', (0), sliderList);

    //         }
    //     }

    //     function handler(event, elem) {
    //         var target = event && event.target ? event.target : elem,
    //             src = target.src ? target.src : "";

    //         removeClass();
    //         containerImg.firstElementChild.src = src;
    //         target.classList.add(activeClass);

    //     }

    //     function removeClass() {
    //         var active = document.querySelector('.' + activeClass);
    //         active.classList.remove(activeClass);
    //     }
    // }())


    </script>
</body>

</html>
